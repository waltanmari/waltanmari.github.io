!function(t,e){function i(e,i){this.element=e,a=a=t.extend({},s,i),this._defaults=s,this._name=n,c.push(e);var o=t(e).isOnScreen();t(e).data("onScreen",o),o&&a.onWindowEnter(t(e))}var n="windows",s={snapping:!0,snapSpeed:500,snapInterval:1100,onScroll:function(){},onSnapComplete:function(){},onWindowEnter:function(){}},a={},o=t(e),r=0,l=null,c=[];t.fn.ratioVisible=function(){var t=o.scrollTop();if(!this.isOnScreen())return 0;var e=this.offset(),i=e.top-t,n=o.height(),s=(i+n)/n;return s>1&&(s=1-(s-1)),s},t.fn.isOnScreen=function(){var t=o.scrollTop(),e=o.height(),i=this.offset(),n=i.top-t;return n>=e||-e>=n?!1:!0};var h=t.fn.getCurrentWindow=function(){var e=0,i=c[0];return t.each(c,function(){var n=t(this).ratioVisible();Math.abs(n)>Math.abs(e)&&(i=t(this),e=n)}),t(i)},d=function(){r=o.scrollTop(),p(),a.onScroll(r),t.each(c,function(){var e=t(this),i=e.isOnScreen();i&&(e.data("onScreen")||a.onWindowEnter(e)),e.data("onScreen",i)})},u=function(){p()},p=function(){l&&clearTimeout(l),a.snapping&&(l=setTimeout(function(){var e=h(),i=e.offset().top,n=!1;t("html:not(:animated),body:not(:animated)").animate({scrollTop:i},a.snapSpeed,function(){n||(l&&clearTimeout(l),l=null,n=!0,a.onSnapComplete(e))})},a.snapInterval))};t.fn[n]=function(e){return o.scroll(d),o.resize(u),this.each(function(){t.data(this,"plugin_"+n)||t.data(this,"plugin_"+n,new i(this,e))})}}(jQuery,window,document);